@model Store.Data.Models.Product

<nav class="pt-3 my-3 my-md-4" aria-label="breadcrumb">
    <ol class="breadcrumb">
        <li class="breadcrumb-item">
            <a href="@Url.Action("Index", "Home")" class="text-color">Главная</a>
        </li>
        <li class="breadcrumb-item">
            <a href="@Url.Action("List", "Product")" class="text-color">Каталог товаров</a>
        </li>
        @if (Model.Category != null)
        {
            <li class="breadcrumb-item">
                <a href="@Url.Action("Category", "Catalog", new { id = Model.Category.Id })" class="text-color">
                    @Model.Category.Name
                </a>
            </li>
        }
        <li class="breadcrumb-item active text-color" aria-current="page">
            @Model.Name
        </li>
    </ol>
</nav>

<div class="container mt-4 md-5">
    <div class="row">
        <div id="product-image" class="col-md-6">
            <img src="@Model.ImageUrl" class="img-fluid" alt="@Model.Name" style="cursor: pointer;" data-bs-toggle="modal" data-bs-target="#productImageModal" onclick="openModal('@Model.ImageUrl')">
            <div id="product-description" class="mt-3">
                <p>@Model.Description</p>
            </div>
        </div>

        <div id="product-details" class="col-md-5">
            <h5>@Model.Name</h5>
            <p><h8>Артикул:</h8> @Model.SKU</p>

            @if (Model.DiscountPrice.HasValue)
            {
                <p>
                    <span><h8>Цена:</h8></span>
                    <span style="text-decoration: line-through;">@Model.Price.ToString("C")</span>
                    <span class="text-success">@Model.DiscountPrice.Value.ToString("C")</span>
                </p>
            }
            else
            {
                <p><h8>Цена:</h8> @Model.Price.ToString("C")</p>
            }

            <p><h8>Доступен:</h8> @(Model.Available ? "Да" : "Нет")</p>
            <p><h8>Производитель:</h8> @Model.CountryOfOrigin</p>

            @if (Model.AvailableSizes != null && Model.AvailableSizes.Any())
            {
                <p><h8>Доступные размеры:</h8></p>
                <select class="form-select mb-3">
                    @foreach (var size in Model.AvailableSizes)
                    {
                        <option value="@size">@size</option>
                    }
                </select>
            }

            <!-- Таблица с характеристиками -->
            <table class="table mt-2">
                <tbody>
                    <tr>
                        <td><h8>Категория:</h8></td>
                        <td>@Model.Category?.Name</td>
                    </tr>
                    <tr>
                        <td><h8>Поверхность:</h8></td>
                        <td>@Model.Surface</td>
                    </tr>
                    <tr>
                        <td><h8>Группа:</h8></td>
                        <td>@Model.Group</td>
                    </tr>
                    <tr>
                        <td><h8>Материал:</h8></td>
                        <td>@Model.Material</td>
                    </tr>
                    <tr>
                        <td><h8>Тип продукта:</h8></td>
                        <td>@Model.ProductType.ToString()</td>
                    </tr>
                </tbody>
            </table>

            <!-- Кнопка "Добавить в корзину" -->
            <button class="btn btn-custom mb-4">Добавить в корзину</button>

            <!-- Кнопка "Оформить сейчас" -->
            <button class="btn btn-custom mb-4">Оформить сейчас</button>
        </div>
    </div>
</div>


<!-- Модальное окно для увеличенного изображения -->
<div class="modal fade" id="productImageModal" tabindex="-1" aria-labelledby="productImageModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered modal-lg">
        <div class="modal-content border-0">
            <div class="modal-body p-0">
                <img id="modalImage" src="" class="img-fluid w-100" alt="Увеличенное изображение">
            </div>
        </div>
    </div>
</div>

<script>
    function openModal(imageUrl) {
        document.getElementById('modalImage').src = imageUrl;
    }
</script>